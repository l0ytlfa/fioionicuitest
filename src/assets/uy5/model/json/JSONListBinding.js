//----------------------------------------------------------------------------------------// Standard JSONmodel ridefinition//----------------------------------------------------------------------------------------sap.ui.define([	"sap/ui/model/json/JSONListBinding"], function (JSONListBinding) {	"use strict";	return JSONListBinding.extend("it.fiorital.fioritalui5lib.framework.model.json.JSONListBinding", {		constructor: function (oModel, sPath, oContext, aSorters, aFilters, mParameters) {			JSONListBinding.call(this, oModel, sPath, oContext, aSorters, aFilters, mParameters);		},		getContexts: function (iStartIndex, iLength) {			var refArray;			if (this.sPath === '/') { //<--- avoid pagination on child arrays !!! (for example charts within lines)				//---> pagination! 				if (this.oModel.ListStart !== 0) {					iStartIndex = this.oModel.ListStart;				}				if (this.oModel._ListPageSize !== 0) {					//--> Intercept "TypeError: Cannot read property 'length' of undefined" on this.oModel.getData()					try {						var nextIdx = this.oModel.ListStart + this.oModel._ListPageSize;						if (nextIdx > this.oModel.getData().length) {							iLength = this.oModel.getData().length - this.oModel.ListStart;						} else {							iLength = this.oModel._ListPageSize;						}					} catch(ex) {						iLength = undefined;						iStartIndex = undefined;					}				} else {					iLength = undefined;				}			} else {				iLength = undefined;				iStartIndex = undefined;			}			//---> use old good standard code!			return sap.ui.model.json.JSONListBinding.prototype.getContexts.call(this, iStartIndex, iLength); // <-- like super()  		}	});});